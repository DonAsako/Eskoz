{% extends 'base.html' %}
{% load i18n %}
{% block head %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css" integrity="sha384-WcoG4HRXMzYzfCgiyfrySxx90XSl2rxY5mnVY5TwtWE6KLrArNKn0T/mOgNL0Mmi" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js" integrity="sha384-J+9dG2KMoiR9hqcFao0IBLwxt6zpcyN68IgwzsCSkbreXUjmNVRhPFTssqdSGjwQ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
        onload="renderMathInElement(document.querySelector('.article--content'));"></script>
{% load static %}
{% with markdown_css=ACTIVE_THEME|add:"/css/markdown.css" %}
    <link rel="stylesheet" href="{% static markdown_css %}">
{% endwith %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/vs.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js" integrity="sha512-EBLzUL8XLl+va/zAsmXwS7Z2B1F9HUHkZwyS/VKwh3S7T/U0nF4BaU29EP/ZSf6zgiIxYAnKLu6bJ8dqpmX5uw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
{% endblock %}
{% block title %} - {{ article.get_translation.title }}{% endblock %}
{% block SEO %}
    <meta property="og:type" content="article" />
    <meta property="article:published_time" content="{{ article.published_on.isoformat }}" />
    <meta property="article:modified_time" content="{{ article.edited_on.isoformat }}" />
    {% for tag in article.tags.all %}<meta property="article:tag" content="{{ tag.title }}" />{% endfor %}
{% endblock %}
{% block content %}
<div class="article--container">
    <div class="article--wrapper">
        <div class="article--header">
            <h1>{{ article.get_translation.title }}</h1>
            <div class="article--meta">
                <span class="article--meta-item">
                    ðŸ“… {{ article.published_on|date:"j F Y" }}
                </span>
                {% if article.get_translation.get_reading_time %}
                <span class="article--meta-item">
                    ðŸ“– {{ article.get_translation.get_reading_time }} min {% trans "read" %}
                </span>
                {% endif %}
                {% if article.category %}
                <span class="article--meta-item">
                    ðŸ“‚ {{ article.category }}
                </span>
                {% endif %}
            </div>
        </div>
        {% if article.picture %}
        <div class="article--picture-wrapper">
            <img src="{{ article.picture.url }}" alt="{{ article.get_translation.title }}">
        </div>
        {% endif %}
        <div class="article--content markdown-body">
            {{ article.get_translation.get_content_as_html }}
        </div>
    </div>
    {% include 'components/toc.html' %}
</div>
<script>
    hljs.highlightAll();
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
            delimiters: [
                {left: "\\[", right: "\\]", display: true},
                {left: "$$", right: "$$", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false}
            ]
        });
    });
</script>
{% endblock %}
